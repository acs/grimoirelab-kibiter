extends ./chrome.jade

block content
  style.
    * {
      box-sizing: border-box;
    }

    body, html {
      width: 100%;
      height: 100%;
      margin: 0;
      background-color: #F5F5F5;
    }
    .kibanaWelcomeView {
      background-color: #F5F5F5;
    }

    .kibanaWelcomeText {
      color: #222;
      font-size: 14px;
      font-family: Sans-serif;
      margin-top: 20px;
      color: #666;
      animation: fadeIn 1s ease-in-out;
      animation-fill-mode: forwards;
      opacity: 0;
      animation-delay: 1.0s;
    }

    .kibanaLoaderWrap {
      height: 128px;
      width: 128px;
      position: relative;
      margin-top: 40px;
    }

    .kibanaLoader {
      height: 128px;
      width: 128px;
      margin: 0 auto;
      position: relative;
      border: 2px solid transparent;
      border-top: 2px solid #00A69B;
      border-radius: 100%;
      display: block;
      opacity: 0;
      animation: rotation .75s .5s infinite linear, fadeIn 1s .5s ease-in-out forwards;
    }

    .kibanaWelcomeLogoCircle {
      position: absolute;
      left: 4px;
      top: 4px;
      width: 120px;
      height: 120px;
      padding: 20px;
      background-color: #FFF;
      border-radius: 50%;
      animation: bounceIn .5s ease-in-out;
    }

    .kibanaWelcomeLogo {
      background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNjQuNzExNzg0bW0iCiAgIGhlaWdodD0iNjUuMDA0NTkzbW0iCiAgIHZpZXdCb3g9IjAgMCA2NC43MTE3ODQgNjUuMDA0NTkzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc4MCIKICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSIvdG1wL2Nyb3NzbWluZXItbG9nby13LnN2Zy5wbmciCiAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSI3OCIKICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9Ijc4IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjEgcjE1MzcxIgogICBzb2RpcG9kaTpkb2NuYW1lPSJjcm9zc21pbmVyLWxvZ28tdy5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM3NCIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMy4yNTIxMTAxIgogICAgIGlua3NjYXBlOmN4PSIxMjIuMjg5OTkiCiAgICAgaW5rc2NhcGU6Y3k9IjEyMi44NDMzMiIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjciCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIgLz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE3NyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FwYSAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjUuMTYxOTYzLC0xMDMuNDc5ODUpIj4KICAgIDxwYXRoCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaWQ9InBhdGgzMiIKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiMzMjcwYmI7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMDM1Mjc3NzgiCiAgICAgICBkPSJtIDk0LjUzMTc2OCwxNDAuNjQ0NjMgYyAwLjUxNTA2LDMuMDI0NjUgMy4yMTczNCwzLjQ0MzE1IDUuMDg1MjksMy40NDMxNSAxLjc2OTg5MiwwIDQuNDcyMTcyLC0wLjUxNTUyIDQuNDcyMTcyLC0yLjg2NDk1IDAsLTQuODkyMjggLTEzLjY3NzIwMiwtMS43Mzc4MiAtMTMuNjc3MjAyLC0xMC4zMzE4IDAsLTQuNzMxNDUgNC40NDExMiwtNi45NTIxOSA4LjU5MzY3LC02Ljk1MjE5IDQuNzk0OTYyLDAgOS4yMDMyNzIsMi4wOTMwMyA5LjIwMzI3Miw3LjQwMzA0IEwgMTAzLjMxNywxMzAuNjMzNSBjIC0wLjYxMTcyLC0yLjY3MTU4IC0yLjk2MDE2LC0yLjc2NzE5IC00LjUzODE0MiwtMi43NjcxOSAtMS42MDg2NiwwIC0zLjQ3NTIxLDAuNjc1OTMgLTMuNDc1MjEsMi42MDYzMyAwLDEuNzA1NjggMS4wOTM5NiwyLjA5MjY3IDYuODU1NTMyLDMuNDc2NjYgMS43MDU2OCwwLjQxODIyIDYuODIyMDIsMS40ODA0MyA2LjgyMjAyLDYuNjk1MzMgMCw0LjIxNTI3IC0zLjI4MTg5LDcuMzY5ODggLTkuNTU3ODEyLDcuMzY5ODggLTUuMTQ5MTUsMCAtOS43ODUzNSwtMi41MTE0NiAtOS43ODUzNSwtOC4xNzQ1MyBsIDQuODkzNzMsMC44MDQ2NSIgLz4KICAgIDxwYXRoCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaWQ9InBhdGgzNCIKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiMzMjcwYmI7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMDM1Mjc3NzgiCiAgICAgICBkPSJtIDExNS40MjQzMywxNDAuNjQ0NjMgYyAwLjUxNDcsMy4wMjQ2NSAzLjIxNzY5LDMuNDQzMTUgNS4wODM1MywzLjQ0MzE1IDEuNzcyLDAgNC40NzU2OSwtMC41MTU1MiA0LjQ3NTY5LC0yLjg2NDk1IDAsLTQuODkyMjggLTEzLjY4MDcyLC0xLjczNzgyIC0xMy42ODA3MiwtMTAuMzMxOCAwLC00LjczMTQ1IDQuNDQyNTMsLTYuOTUyMTkgOC41OTM2NiwtNi45NTIxOSA0Ljc5NjcyLDAgOS4yMDYwOSwyLjA5MzAzIDkuMjA2MDksNy40MDMwNCBsIC00Ljg5MTYxLC0wLjcwODM4IGMgLTAuNjExNzIsLTIuNjcxNTggLTIuOTYyMjgsLTIuNzY3MTkgLTQuNTM5MiwtMi43NjcxOSAtMS42MDg2NiwwIC0zLjQ3NTIxLDAuNjc1OTMgLTMuNDc1MjEsMi42MDYzMyAwLDEuNzA1NjggMS4wOTM5NiwyLjA5MjY3IDYuODU1MTgsMy40NzY2NiAxLjcwNTMzLDAuNDE4MjIgNi44MjIwMSwxLjQ4MDQzIDYuODIyMDEsNi42OTUzMyAwLDQuMjE1MjcgLTMuMjgxNTMsNy4zNjk4OCAtOS41NTkyMiw3LjM2OTg4IC01LjE0OTQ5LDAgLTkuNzgzNTgsLTIuNTExNDYgLTkuNzgzNTgsLTguMTc0NTMgbCA0Ljg5MzM4LDAuODA0NjUiIC8+CiAgICA8cGF0aAogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlkPSJwYXRoMzYiCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMzI3MGJiO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjAzNTI3Nzc4IgogICAgICAgZD0ibSA4My42NjcyNzgsMTMzLjc3ODEzIGMgMC4yMDgxMywwLjY2NjU3IDAuMzIyNzksMS4zNzMwOCAwLjMyMjc5LDIuMTAxNTMgMCwzLjgzMDc4IC0zLjEyMTAzLDcuMDE3NDkgLTYuOTUxNDg5LDcuMDE3NDkgLTMuODI5NDAzLDAgLTcuMDE2MDQ0LC0zLjE4NjcxIC03LjAxNjA0NCwtNy4wMTc0OSAwLC0zLjgyOTc1IDMuMTg2NjQxLC03LjA0ODUgNy4wMTYwNDQsLTcuMDQ4NSAxLjE2ODQsMCAyLjI2ODAwOSwwLjMwMzA0IDMuMjM3MDg5LDAuODI3MjcgbCAyLjk5NTQ0LC0zLjkwMzg0IGMgLTEuODE4NTcsLTEuMTIzOTUgLTMuOTUxNDY4LC0xLjc4MjU5IC02LjIzMjUyOSwtMS43ODI1OSAtNi41NjQ4NDIsMCAtMTEuODc2NjE2LDUuMzEwMDEgLTExLjg3NjYxNiwxMS45MDc2NiAwLDYuNTY2MTggNS4zMTE3NzQsMTEuODc3NzEgMTEuODc2NjE2LDExLjg3NzcxIDYuNTMzNzk5LDAgMTEuOTA3MzA5LC01LjMxMTUzIDExLjkwNzMwOSwtMTEuODc3NzEgMCwtMi43MTA3NCAtMC45MTgyOCwtNS4xOTY0MSAtMi40NDA1MiwtNy4xOTM0OSBsIC0yLjgzODA5LDUuMDkxOTYiIC8+CiAgICA8cGF0aAogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlkPSJwYXRoMzgiCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMzI3MGJiO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjAzNTI3Nzc4IgogICAgICAgZD0ibSA3NS4xNzY2MTgsMTIwLjU1MTgyIGMgNS4yNTA3NCwtOC43Njc1OSAxNC44Mzk2LC0xNC42Mzc0NiAyNS44MDE0NjIsLTE0LjYzNzQ2IDEwLjk2MDgsMCAyMC41Mzc2Niw1Ljg3MzA1IDI1Ljc4OTgyLDE0LjYzNzQ2IGggMC4wMTMgYyAtNS40OTE2OCwtMTAuMTYxNzYgLTE2LjIyODEyLC0xNy4wNzE5NyAtMjguNTg5ODEyLC0xNy4wNzE5NyAtMTIuMzY0NSwwIC0yMy4xMTQzNDYsNi45MDcwMyAtMjguNjA2MDM4LDE3LjA3MTk3IGggNS41OTE1MjgiIC8+CiAgICA8cGF0aAogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlkPSJwYXRoNDAiCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMzI3MGJiO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjAzNTI3Nzc4IgogICAgICAgZD0ibSA3NS4xNzQ4NTQsMTUxLjQxMjc1IGMgNS4yNTA3NDQsOC43NjYyNCAxNC44Mzk1OTQsMTQuNjM3NTIgMjUuODAxNDY2LDE0LjYzNzUyIDEwLjk2MDgsMCAyMC41Mzc2NiwtNS44NzQ4NCAyNS43ODk4MSwtMTQuNjM3NTIgaCAwLjAxNDggYyAtNS40OTI3NSwxMC4xNjA4NCAtMTYuMjI5NTQsMTcuMDcxNjkgLTI4LjU5MTIzMiwxNy4wNzE2OSAtMTIuMzY0NSwwIC0yMy4xMTUwNTMsLTYuOTA3NDMgLTI4LjYwNjM5MiwtMTcuMDcxNjkgaCA1LjU5MTUyOCIgLz4KICAgIDxwYXRoCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaWQ9InBhdGg0MiIKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiNmNjg3MTI7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMDM1Mjc3NzgiCiAgICAgICBkPSJtIDg4LjY3MjQ4OCwxMjEuMzcwMjYgLTExLjQ3OTAzOSwxNC44MDY2MiAtNS4zODAyMTQsLTMuNDQ2NDcgNS4xNjM5NjEsOC45NTEzMiAxMS43NzA0MzIsLTE5LjU5MzIxIC0wLjA3NTEsLTAuNzE4MjYiIC8+CiAgICA8cGF0aAogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlkPSJwYXRoNDQiCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojZjY4NzEyO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjAzNTI3Nzc4IgogICAgICAgZD0ibSAxMTkuMzc1NzksMTIwLjU1MTgyIGMgLTQuMjEwMDUsLTYuNDAyNTYgLTExLjg5NjAyLC0xMC42ODg4MSAtMjAuNjg0NDIyLC0xMC42ODg4MSAtOC43ODY2MywwIC0xNi40NjQ4NCw0LjI4OTA3IC0yMC42NzQ4ODksMTAuNjg4ODEgaCAtMC4wMTIzNSBjIDQuNDAzNzI5LC03LjQyMDY4IDEzLjAxMTg1OSwtMTIuNDY3NTIgMjIuOTIxMzkxLC0xMi40Njc1MiA5LjkxMjM1LDAgMTguNTMsNS4wNDQwMiAyMi45MzI2NywxMi40Njc1MiBoIC00LjQ4MjQiIC8+CiAgICA8cGF0aAogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlkPSJwYXRoNDYiCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojZjY4NzEyO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjAzNTI3Nzc4IgogICAgICAgZD0ibSAxMTkuMzc0MDMsMTUxLjQxMjc1IGMgLTQuMjA5Nyw2LjQwMTU0IC0xMS44OTYwMiwxMC42ODkxNiAtMjAuNjg0NDIyLDEwLjY4OTE2IC04Ljc4NjY0LDAgLTE2LjQ2NDQ5LC00LjI4OTcxIC0yMC42NzQ4OTMsLTEwLjY4OTE2IGggLTAuMDExOTkgYyA0LjQwNDA3Myw3LjQyMDA0IDEzLjAxMTE1MywxMi40NjY4NSAyMi45MjEwMjUsMTIuNDY2ODUgOS45MTMwNiwwIDE4LjUzMDcxLC01LjA0MzIxIDIyLjkzMjY4LC0xMi40NjY4NSBoIC00LjQ4MjQiIC8+CiAgPC9nPgo8L3N2Zz4K');
      background-repeat: no-repeat;
      background-size: contain;
      width: 60px;
      height: 60px;
      margin: 10px 0px 10px 10px;
    }

    @keyframes rotation {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(359deg);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes bounceIn {
      0% {
        opacity: 0;
        transform: scale(.1);
      }
      80% {
        opacity: .5;
        transform: scale(1.2);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }


  .kibanaWelcomeView
    .kibanaLoaderWrap
      .kibanaLoader
      .kibanaWelcomeLogoCircle
        .kibanaWelcomeLogo
    .kibanaWelcomeText
      | #{i18n('UI-WELCOME_MESSAGE')}

  script.
    window.onload = function () {
      var buildNum = #{kibanaPayload.buildNum};
      var cacheParam = buildNum ? '?v=' + buildNum : '';
      function bundleFile(filename) {
        var anchor = document.createElement('a');
        anchor.setAttribute('href', !{JSON.stringify(bundlePath)} + '/' + filename + cacheParam);
        return anchor.href;
      }
      var files = [
        bundleFile('commons.style.css'),
        bundleFile('#{app.id}.style.css'),
        bundleFile('commons.bundle.js'),
        bundleFile('#{app.id}.bundle.js')
      ];

      (function next() {
        var file = files.shift();
        if (!file) return;

        var failure = function () {
          // make subsequent calls to failure() noop
          failure = function () {};

          var err = document.createElement('h1');
          err.style['color'] = 'white';
          err.style['font-family'] = 'monospace';
          err.style['text-align'] = 'center';
          err.style['background'] = '#F44336';
          err.style['padding'] = '25px';
          err.innerText = '#{i18n('UI-WELCOME_ERROR')}';

          document.body.innerHTML = err.outerHTML;
        }

        var type = /\.js(\?.+)?$/.test(file) ? 'script' : 'link';
        var dom = document.createElement(type);
        dom.setAttribute('async', '');
        dom.addEventListener('error', failure);

        if (type === 'script') {
          dom.setAttribute('src', file);
          dom.addEventListener('load', next);
          document.head.appendChild(dom);
        } else {
          dom.setAttribute('rel', 'stylesheet');
          dom.setAttribute('href', file);
          document.head.appendChild(dom);
          next();
        }
      }());
    };
